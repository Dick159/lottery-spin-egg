function createButton(e,t,i,a,s,r,h,n,d,o,c){void 0===o&&(o=0),void 0===c&&(c=0);var l=new egret.DisplayObjectContainer;l.x=e,l.y=t;var g=new egret.Shape;g.graphics.beginFill(s),o&&void 0!==c&&g.graphics.lineStyle(o,c),g.graphics.drawRect(0,0,i,a),g.graphics.endFill(),l.addChild(g);var p=new egret.TextField;return p.text=h,p.width=g.width,p.height=g.height,p.textAlign="center",p.verticalAlign="middle",p.textColor=r,l.addChild(p),l.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){g.graphics.beginFill(n),g.graphics.drawRect(0,0,i,a),g.graphics.endFill(),p.textColor=d},l),l.addEventListener(egret.TouchEvent.TOUCH_END,function(){g.graphics.beginFill(s),g.graphics.drawRect(0,0,i,a),g.graphics.endFill(),p.textColor=r},l),l.touchEnabled=!0,l}function createBitButton(e,t,i,a,s,r,h){var n=new egret.DisplayObjectContainer;n.x=t,n.y=i;var d=new egret.Bitmap(RES.getRes(e));n.addChild(d);var o=new egret.TextField;return o.text=s,o.width=d.width,o.height=d.height,o.textAlign="center",o.verticalAlign="middle",o.textColor=a,n.addChild(o),n.addEventListener(egret.TouchEvent.TOUCH_BEGIN,function(){d.texture=RES.getRes(r),o.textColor=h},n),n.addEventListener(egret.TouchEvent.TOUCH_END,function(){d.texture=RES.getRes(e),o.textColor=a},n),n.touchEnabled=!0,n}function crawReactShape(e,t,i,a,s,r,h,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=10),void 0===s&&(s=10),void 0===r&&(r=0),void 0===h&&(h=0),void 0===n&&(n=0),e=e?e:new egret.Shape,e.graphics.clear(),e.graphics.beginFill(r),e.graphics.lineStyle(n,h),e.graphics.drawRect(t,i,a,s),e.graphics.endFill(),e}function drawReactShape(e,t,i,a,s,r,h,n){return void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=10),void 0===s&&(s=10),void 0===r&&(r=0),void 0===h&&(h=0),void 0===n&&(n=0),e=e?e:new egret.Shape,e.graphics.clear(),e.graphics.beginFill(r),e.graphics.lineStyle(n,h),e.graphics.drawRect(t,i,a,s),e.graphics.endFill(),e}function formatTime(e){var t=Math.floor(e/60);t=10>t?"0"+t:t;var i=e%60;return i=10>i?"0"+i:i,t+":"+i}function createBitmap(e,t,i,a,s,r,h,n,d){void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=""),void 0===s&&(s=0),void 0===r&&(r=0),void 0===h&&(h=1),void 0===n&&(n=1),void 0===d&&(d=1);var o=new egret.Bitmap(RES.getRes(e));return o.name=a?a:e,o.x=t,o.y=i,o.anchorOffsetX=s,o.anchorOffsetY=r,o.scaleX=h,o.scaleY=n,o.alpha=d,o}function createTextFiled(e,t,i,a,s,r,h,n,d,o,c,l,g){void 0===e&&(e=""),void 0===t&&(t=0),void 0===i&&(i=0),void 0===a&&(a=30),void 0===s&&(s=0),void 0===r&&(r="center"),void 0===h&&(h=0),void 0===n&&(n=0),void 0===d&&(d="middle"),void 0===o&&(o=!1),void 0===c&&(c=0),void 0===l&&(l=!1),void 0===g&&(g=egret.TextFieldType.DYNAMIC);var p=new egret.TextField;return p.textAlign=r,p.verticalAlign=d,p.size=a,p.x=t,p.y=i,p.text=e,h&&(p.width=h),n&&(p.height=n),p.textColor=s,o&&(p.border=o,p.borderColor=c),p.multiline=l,p.type=g,p}var __reflect=this&&this.__reflect||function(e,t,i){e.__class__=t,i?i.push(t):i=[t],e.__types__=e.__types__?i.concat(e.__types__):i},__extends=this&&this.__extends||function(e,t){function i(){this.constructor=e}for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},GameUI=function(e){function t(){var t=e.call(this)||this;return t.score=0,t.countdownMaxNumber=30,t.gameStatus=1,t.curIndex=0,t.star=!1,t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){this.countdownCurNumber=this.countdownMaxNumber;var e=createBitmap("");this.addChild(e),this.frameTime=1/this.$stage.frameRate;var t=createTextFiled("倒计时",267,15,18,16777215);this.addChild(t),this.countdownSprite=createTextFiled(this.countdownMaxNumber.toString(),0,36,48,16777215,"center",750),this.addChild(this.countdownSprite);var i=new egret.Shape;i.graphics.lineStyle(2,16777215),i.graphics.drawRoundRect(516,26,222,55,55,55),i.graphics.endFill(),this.addChild(i);var a=createTextFiled("分数:",536,40,28,16777215);this.addChild(a),this.scoreSprite=createTextFiled("0000",600,40,28,16777215,"right",110),this.addChild(this.scoreSprite),this.gifArr=[];for(var s=this,r=1;10>=r;r++){var h=createBitmap("gift"+r+"_png");h.x=375,h.y=1450,h.alpha=.4,h.anchorOffsetX=.5*h.width,h.anchorOffsetY=.5*h.height,h.scaleX=.6,h.scaleY=.6,this.addChild(h),h.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){this.touchEnabled=!1,egret.Tween.get(this).to({scaleX:0,scaleY:0},250).call(function(){this.touchEnabled=!0;var a=Math.floor(9*Math.random()+1);this.adLogo.texture=RES.getRes("logo"+a+"_png"),this.adLogo.anchorOffsetX=.5*this.adLogo.width,this.adLogo.anchorOffsetY=.5*this.adLogo.height,this.adLogo.x=e.stageX,this.adLogo.y=e.stageY,this.adLogo.scaleX=0,this.adLogo.scaleY=0,this.addScore.text=i+t.score,this.addScore.anchorOffsetX=.5*this.addScore.width,this.addScore.anchorOffsetY=.5*this.addScore.height,this.addScore.x=e.stageX,this.addScore.y=e.stageY,this.addScore.scaleX=0,this.addScore.scaleY=0,egret.Tween.get(this.addScore).to({scaleX:1.2,scaleY:1.2,y:this.addScore.y-100},1e3).call(function(){this.addScore.scaleX=0,this.addScore.scaleY=0}.bind(s)),egret.Tween.get(this.adLogo).to({scaleX:1.2,scaleY:1.2},250).to({scaleX:0,scaleY:0},250)}.bind(s));var t,i;for(var a in s.gifArr)s.gifArr[a].bitmap==this&&(t=s.gifArr[a]);t.isGift?(s.score+=t.score,i="+",u.play(0,1)):(s.score-=t.score,i="-",p.play(0,1),setTimeout(function(){s.bruise.play(0,1)},500)),s.score=s.score<=0?0:s.score,s.scoreSprite.text=s.score,s.allScoreSprite.text=s.score},h);var n={bitmap:h,score:100*r,isGift:r>8?!1:!0};this.gifArr.push(n)}var d=createBitmap("bottom_bg_png",0,957);this.addChild(d),this.adLogo=createBitmap(""),this.addChild(this.adLogo),this.addScore=createTextFiled("",0,0,60,16763904),this.addChild(this.addScore);var o=createTextFiled("",375,375,100,16763649);this.addChild(o),o.scaleX=0,o.scaleY=0,this.timer=new egret.Timer(1e3,0),this.timer.addEventListener(egret.TimerEvent.TIMER,this.giftLoop,this),this.timer.start();var c=new egret.DisplayObjectContainer;this.addChild(c);var l=createBitmap("oi_png");l.y=220,c.addChild(l);var g=createBitmap("old_png");c.addChild(g),c.width=l.width,g.x=.5*(l.width-g.width),this.starBtn=createBitButton("seven_btnblue_png",0,730,16777215,"开始","four_btnpink_png",16711680),c.addChild(this.starBtn);var p=new egret.Sound;p.load("resource/assets/far.mp3");var u=new egret.Sound;u.load("resource/assets/dd.mp3");var v=new egret.Sound;v.load("resource/assets/readyGo.mp3"),this.defeated=new egret.Sound,this.defeated.load("resource/assets/defeated.mp3"),this.win=new egret.Sound,this.win.load("resource/assets/win.mp3"),this.click=new egret.Sound,this.click.load("resource/assets/click.mp3"),this.bruise=new egret.Sound,this.bruise.load("resource/assets/bruise.mp3"),this.allScoreSprite=createTextFiled("",0,0,40,16711680),c.addChild(this.allScoreSprite),this.allScoreSprite.x=355,this.allScoreSprite.y=460,this.allScoreSprite.width=150,this.starBtn.x=.5*(l.width-211),c.anchorOffsetX=.5*c.width,c.anchorOffsetY=.5*c.height,c.x=.5*c.width+17,c.y=.5*c.height+200,this.oldMask=c,this.oi=l,this.goOn=createBitButton("four_btnpink_png",100,750,16777215,"继续游戏","seven_btnblue_png",16711680),this.oldMask.addChild(this.goOn),this.share=createBitButton("seven_btnblue_png",400,750,16777215,"分享好友","four_btnpink_png",16711680),this.oldMask.addChild(this.share),this.cj=createBitButton("four_btnpink_png",100,750,16777215,"抽奖","seven_btnblue_png",16711680),this.oldMask.addChild(this.cj),this.goOn.scaleX=0,this.goOn.scaleY=0,this.share.scaleX=0,this.share.scaleY=0,this.cj.scaleX=0,this.cj.scaleY=0,this.snowman1=createBitmap("four_stan_png"),this.snowman1.x=750,this.snowman1.y=1009,this.addChild(this.snowman1);var _=new egret.Rectangle(0,0,this.$stage.width,this.$stage.height);c.mask=_,this.snowman(),this.starBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,function(e){this.starBtn.scaleX=0,this.starBtn.scaleY=0,egret.Tween.get(c).to({scaleX:0,scaleY:0},100).call(function(){o.text="Ready?",o.width=o.width,o.anchorOffsetX=.5*o.width,o.anchorOffsetY=.5*o.height,v.play(0,1),egret.Tween.get(o).to({scaleX:1.2,scaleY:1.2},500).to({scaleX:0,scaleY:0},250).call(function(){o.text="GO!",egret.Tween.get(o).to({scaleX:1.2,scaleY:1.2},300).to({scaleX:0,scaleY:0},250).call(function(){s.star=!0,this.gameStatus=1,this.addEventListener(egret.Event.ENTER_FRAME,this.loop,this)}.bind(s))}.bind(s))}.bind(s))},this),this.shareMsak=new egret.DisplayObjectContainer,this.shareMsak.width=750,this.addChild(this.shareMsak),this.shareLg=createBitmap("seven_share_png"),this.shareLg.x=this.shareMsak.width-this.shareLg.width-17,this.shareLg.y=26,this.shareMsak.addChild(this.shareLg),this.share_lg();var f=createBitmap("fun_title_png");f.x=.5*(this.shareMsak.width-f.width),f.y=35+this.shareLg.height,this.shareMsak.addChild(f),this.shareBit=createBitmap("seven_gameover_png"),this.shareBit.x=.5*(this.shareMsak.width-this.shareBit.width),this.shareBit.y=35+this.shareLg.height+f.height+20,this.shareMsak.addChild(this.shareBit),this.goOn2=createBitButton("btn_green_png",0,1e3,16777215,"继续游戏","btn_green_png",16711680),this.shareMsak.addChild(this.goOn2),this.goOn2.x=.5*(l.width-402),this.goOn2.scaleX=0,this.goOn2.scaleY=0,this.cj2=createBitButton("four_btnpink_png",0,1e3,16777215,"抽奖","seven_btnblue_png",16711680),this.shareMsak.addChild(this.cj2),this.cj2.x=.5*(750-this.cj2.width),this.cj2.scaleX=0,this.cj2.scaleY=0,this.shareTxt=createTextFiled("游戏结束!",0,650,80,10131603),this.shareTxt.x=.5*(750-this.shareTxt.width),this.shareMsak.addChild(this.shareTxt),this.shareTxt.scaleX=0,this.shareTxt.scaleY=0,this.shareMsak.anchorOffsetX=.5*this.shareMsak.width,this.shareMsak.anchorOffsetY=.5*this.shareMsak.height,this.shareMsak.scaleX=0,this.shareMsak.x=.5*this.shareMsak.width,this.shareMsak.y=.5*this.shareMsak.height},t.prototype.snowman=function(){egret.Tween.get(this.snowman1).to({x:-this.snowman1.width},3e3).call(function(){this.snowman1.x=this.oldMask.width,this.snowman()}.bind(this))},t.prototype.share_lg=function(){egret.Tween.get(this.shareLg).to({alpha:0},1e3).call(function(){this.shareLg.alpha=1,this.share_lg()}.bind(this))},t.prototype.giftLoop=function(){if(this.star){this.allScoreSprite.text=this.scoreSprite.text;var e=this.gifArr[this.curIndex];egret.Tween.get(e.bitmap).to({y:-100},300).call(function(){e.bitmap.alpha=1,e.bitmap.x=650*Math.random()+50,e.bitmap.scaleX=1,e.bitmap.scaleY=1,e.bitmap.touchEnabled=!0,this.setChildIndex(e.bitmap,this.numChildren-2)}.bind(this)).to({y:1350},2500).call(function(){e.bitmap.alpha=.4,e.bitmap.x=375,e.bitmap.scaleX=.6,e.bitmap.scaleY=.6,e.bitmap.touchEnabled=!1,this.setChildIndex(e.bitmap,9)}.bind(this)),this.curIndex++,this.curIndex>=10&&(this.curIndex=0)}},t.prototype.loop=function(){1==this.gameStatus?(this.countdownCurNumber-=this.frameTime,this.countdownCurNumber<=0&&(this.countdownCurNumber=0,this.gameStatus=0),this.countdownSprite.text=this.countdownCurNumber.toFixed(2)):(this.star=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this.loop,this),this.share.scaleX=1,this.share.scaleY=1,this.score>=5e3?(this.cj.scaleX=1,this.cj.scaleY=1,this.oi.texture=RES.getRes("award_png"),this.win.play(0,1)):(this.goOn.scaleX=1,this.goOn.scaleY=1,this.oi.texture=RES.getRes("jx_game_jpg"),this.defeated.play(0,1)),this.setChildIndex(this.oldMask,this.numChildren-1),egret.Tween.get(this.oldMask).to({scaleX:1,scaleY:1},1e3),this.goOn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.go_on,this),this.goOn2.addEventListener(egret.TouchEvent.TOUCH_TAP,this.go_on,this),this.cj.addEventListener(egret.TouchEvent.TOUCH_TAP,this.info,this),this.share.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.click.play(0,1),this.score<5e3?egret.Tween.get(this.oldMask).to({scaleX:0,scaleY:0},500).call(function(){this.shareBit.texture=RES.getRes("seven_gameover_png"),this.goOn.scaleX=0,this.goOn.scaleY=0,this.cj.scaleX=0,this.cj.scaleY=0,this.share.scaleX=0,this.share.scaleY=0,this.goOn2.scaleX=1,this.goOn2.scaleY=1,this.shareTxt.scaleX=1,this.shareTxt.scaleY=1,this.allScoreSprite.text="",egret.Tween.get(this.shareMsak).to({scaleX:1},500)}.bind(this)):this.info1()},this))},t.prototype.go_on=function(){egret.Tween.get(this.shareMsak).to({scaleX:0},200).call(function(){this.click.play(0,1),egret.Tween.get(this.oldMask).to({scaleX:0,scaleY:0},500).call(function(){this.goOn.scaleX=0,this.goOn.scaleY=0,this.goOn2.scaleX=0,this.goOn2.scaleY=0,this.share.scaleX=0,this.share.scaleY=0,this.cj2.scaleX=0,this.cj2.scaleY=0,this.shareTxt.scaleX=0,this.shareTxt.scaleY=0,this.starBtn.scaleX=1,this.starBtn.scaleY=1,this.scoreSprite.text="0000",this.score=0,this.allScoreSprite.text="",this.oi.texture=RES.getRes("tow_png"),this.countdownCurNumber=this.countdownMaxNumber,this.countdownSprite.text=this.countdownMaxNumber,egret.Tween.get(this.oldMask).to({scaleX:1,scaleY:1},500)}.bind(this))}.bind(this))},t.prototype.info=function(){this.click.play(0,1);var e=ScenceManage.create(this.stage);e.loadScence("info",this,InfoUI)},t.prototype.info1=function(){this.click.play(0,1);var e=ScenceManage.create(this.stage);e.loadScence("info",this,Info1UI)},t}(egret.Sprite);__reflect(GameUI.prototype,"GameUI");var IndexUI=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){var e=createBitmap("");this.addChild(e);var t=createBitmap("diban_png");t.x=0,t.y=842,this.addChild(t);var i=createBitmap("index_title_png",0,100);this.addChild(i);var a=new egret.Sound;a.load("resource/assets/dd.mp3");var s=createBitmap("index_bell_png",29,233);this.addChild(s),s.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(s).to({rotation:30},300).call(function(){a.play(0,1),egret.Tween.get(s).to({rotation:-30},300).call(function(){s.rotation=0,o.play(0,1),egret.Tween.get(l).to({alpha:0},300).to({alpha:1},300).to({alpha:0},300).call(function(){l.alpha=1}.bind(this))}.bind(this))}.bind(this))},this),s.touchEnabled=!0;var r=createBitmap("index_sock_png",656,206);this.addChild(r);var h=createBitmap("index_tree_png",50,595);this.addChild(h);var n=createBitmap("index_man_png",123,289);this.addChild(n);var d=createBitmap("index_handgift_png",136,538);this.addChild(d);var o=new egret.Sound;o.load("resource/assets/dog.mp3");var c=createBitmap("index_fawn_1_png",40,725);this.addChild(c);var l=createBitmap("index_fawn_2_png",190,820);this.addChild(l);var g=createBitmap("ingdex_Prize_jpg",543,1011);this.addChild(g);var p=createBitmap("start_btn_png",276,1038);this.addChild(p),p.touchEnabled=!0,p.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var e=ScenceManage.create(this.stage);e.loadScence("preload",this,GameUI)},this);var u=createTextFiled("游戏规则",0,1140,30,7434609,"center",750);this.addChild(u),u.touchEnabled=!0;var v=createBitmap("rule_jpg",375,603);this.addChild(v),v.visible=!1,v.scaleX=0,v.scaleY=0,v.anchorOffsetX=.5*v.width,v.anchorOffsetY=.5*v.height;var _=createBitmap("old_man_png",750,1e3);this.addChild(_),_.visible=!1,u.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){this.textColor=0,0==v.visible?(v.visible=!0,egret.Tween.get(g).to({x:750},300).call(function(){g.visible=!1},this),egret.Tween.get(v).to({scaleX:1,scaleY:1},500).call(function(){_.visible=!0,egret.Tween.get(_).to({x:500},1e3).call(function(){},this)},this)):egret.Tween.get(v).to({scaleX:0,scaleY:0},500).call(function(){v.visible=!1,egret.Tween.get(_).to({x:750},300).call(function(){_.visible=!1,g.visible=!0,egret.Tween.get(g).to({x:543},1e3).call(function(){},this)},this)},this)},this);var f=drawReactShape("",306,1172,140,2,7434609);this.addChild(f)},t}(egret.Sprite);__reflect(IndexUI.prototype,"IndexUI");var Info1UI=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){var e=createBitmap("info1bg_png",15,338);this.addChild(e);var t=new egret.DisplayObjectContainer;t.width=545,t.height=256,t.x=100,t.y=611,this.addChild(t);var i=createTextFiled("姓名：",0,17,35,5534538),a=createTextFiled("电话：",0,109,35,5534538),s=createTextFiled("验证码：",0,207,35,5534538),r=createTextFiled("请输入真实姓名",120,0,25,11645361,"center",420,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),h=createTextFiled("请输入真实联系方式",120,96,25,11645361,"center",280,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),n=createTextFiled("请输入收到的短信验证码",155,190,25,11645361,"center",385,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),d=drawReactShape("",427,96,115,61,7829367,10526880,2),o=createTextFiled(" 倒计时：  60s",427,96,24,16777215,"center",115,61,"",!1,10526880,!0);t.addChild(i),t.addChild(a),t.addChild(s),t.addChild(r),t.addChild(h),t.addChild(n),t.addChild(d),t.addChild(o);var c=createTextFiled("输入资料进行抽奖",263,446,30,16777215);this.addChild(c);var l=createBitmap("fxy_jt_png",524,26);this.addChild(l),this.shareLg=l,this.share_lg();var g=createBitmap("fun_title_png",83,217);this.addChild(g);var p=createBitmap("lzy_aj_png",270,1024);this.addChild(p),p.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var e=ScenceManage.create(this.stage);e.loadScence("ResultUI",this,ReceiveUI)},this),p.touchEnabled=!0},t.prototype.share_lg=function(){egret.Tween.get(this.shareLg).to({alpha:0},1e3).call(function(){this.shareLg.alpha=1,this.share_lg()}.bind(this))},t}(egret.Sprite);__reflect(Info1UI.prototype,"Info1UI");var InfoUI=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){var e=createBitmap("six_dataLeave_png");e.x=15,e.y=122,this.addChild(e);var t=new egret.DisplayObjectContainer;t.width=545,t.height=256,t.x=100,t.y=568,this.addChild(t);var i=createTextFiled("姓名：",0,17,35,5534538),a=createTextFiled("电话：",0,109,35,5534538),s=createTextFiled("验证码：",0,207,35,5534538),r=createTextFiled("请输入真实姓名",120,0,25,11645361,"center",420,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),h=createTextFiled("请输入真实联系方式",120,96,25,11645361,"center",280,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),n=createTextFiled("请输入收到的短信验证码",155,190,25,11645361,"center",385,61,"middle",!0,10526880,!1,egret.TextFieldType.INPUT),d=drawReactShape("",427,96,115,61,7829367,10526880,2),o=createTextFiled(" 倒计时：  60s",427,96,24,16777215,"center",115,61,"",!1,10526880,!0);t.addChild(i),t.addChild(a),t.addChild(s),t.addChild(r),t.addChild(h),t.addChild(n),t.addChild(d),t.addChild(o);var c=createTextFiled("输入资料进行抽奖",263,407,30,16777215);this.addChild(c);var l=createBitmap("lzy_aj_png",270,1010);this.addChild(l),l.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){var e=ScenceManage.create(this.stage);e.loadScence("ResultUI",this,ReceiveUI)},this),l.touchEnabled=!0},t}(egret.Sprite);__reflect(InfoUI.prototype,"InfoUI");var LoadingUI=function(e){function t(){var t=e.call(this)||this;return t.createView(),t}return __extends(t,e),t.prototype.createView=function(){RES.getResByUrl("resource/assets/common_bg.png",function(e){var t=new egret.Bitmap;t.texture=e,this.addChildAt(t,0)},this),this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=500,this.textField.width=750,this.textField.height=100,this.textField.textAlign="center",RES.getResByUrl("resource/assets/snowflake.png",function(e){var t=new egret.Bitmap;t.texture=e;var i=new egret.Bitmap;i.texture=e,this.addChild(t),this.addChild(i),egret.Tween.get(t,{loop:!0}).to({y:1206},1e4),egret.Tween.get(i,{loop:!0}).to({y:0},1e4)},this),this.barBg=new egret.Shape,this.barBg.graphics.beginFill(0),this.barBg.graphics.drawRect(175,530,400,20),this.barBg.graphics.endFill(),this.addChild(this.barBg),this.bar=new egret.Shape,this.bar.graphics.beginFill(16777215),this.bar.graphics.drawRect(175,530,0,20),this.bar.graphics.endFill(),this.addChild(this.bar)},t.prototype.setProgress=function(e,t){var i=Math.ceil(e/t*400),a=Math.ceil(e/t*100);this.textField.text="Loading..."+a+"%",this.bar.graphics.beginFill(16777215),this.bar.graphics.drawRect(175,530,i,20),this.bar.graphics.endFill()},t}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(e){function t(){var t=e.call(this)||this;return t.addEventListener(egret.Event.ADDED_TO_STAGE,t.onAddToStage,t),t}return __extends(t,e),t.prototype.onAddToStage=function(e){this.loadingView=new LoadingUI,this.stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},t.prototype.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("index")},t.prototype.onResourceLoadComplete=function(e){"index"==e.groupName&&(this.stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),this.createGameScene())},t.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},t.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},t.prototype.onResourceProgress=function(e){"index"==e.groupName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},t.prototype.createGameScene=function(){var e=createBitmap("common_bg_png",0,0);this.addChild(e);var t=createBitmap("snowflake_png",0,0),i=createBitmap("snowflake_png",0,-1206),a=createBitmap("snowflake_png",0,0),s=createBitmap("snowflake_png",0,-1206);this.addChild(t),this.addChild(i),this.addChild(a),this.addChild(s),egret.Tween.get(t,{loop:!0}).to({y:1206},1e4),egret.Tween.get(i,{loop:!0}).to({y:0},1e4),egret.Tween.get(a,{loop:!0}).to({y:1206},2e4),egret.Tween.get(s,{loop:!0}).to({y:0},2e4);var r=new IndexUI;this.stage.addChild(r);var h=createBitmap("music_logo_png",80,50);this.addChild(h),h.anchorOffsetX=32.5,h.anchorOffsetY=32.5;egret.Tween.get(h,{loop:!0}).to({rotation:360},2e3);h.touchEnabled=!0;var n,d=new egret.Sound,o=0,c=0;d.addEventListener(egret.Event.COMPLETE,function(){n=d.play(c,0),o=d.length},this),d.load("resource/assets/music.mp3"),h.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){null===n?(n=d.play(c),n.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){}),egret.Tween.resumeTweens(h)):(c=n.position,n.stop(),n=null,egret.Tween.pauseTweens(h))},this)},t.prototype.createBitmapByName=function(e){var t=new egret.Bitmap,i=RES.getRes(e);return t.texture=i,t},t.prototype.startAnimation=function(e){var t=this,i=new egret.HtmlTextParser,a=e.map(function(e){return i.parse(e)}),s=this.textfield,r=-1,h=function(){r++,r>=a.length&&(r=0);var e=a[r];s.textFlow=e;var i=egret.Tween.get(s);i.to({alpha:1},200),i.wait(2e3),i.to({alpha:0},200),i.call(h,t)};h()},t}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var ReceiveUI=function(e){function t(){var t=e.call(this)||this;return t.zpname="请进行抽奖",t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){this.width=750,this.height=1206;var e=createBitmap("title_png");e.anchorOffsetX=.5*e.width,e.anchorOffsetY=.5*e.height,e.x=18+.5*e.width,e.y=110+.5*e.height,this.addChild(e);var t=createBitmap("zj_bt_png");t.anchorOffsetX=.5*t.width,t.anchorOffsetY=.5*t.height,t.x=32+.5*t.width,t.y=19+.5*t.height,t.scaleX=0,t.scaleY=0,this.addChild(t);var i=createBitmap("diban_png");i.x=0,i.y=842,this.addChild(i);var a=createBitmap("tou_png");a.x=30,a.y=339,this.addChild(a),a.touchEnabled=!0,this.dd=new egret.Sound,this.dd.load("resource/assets/dd.mp3");var s=drawReactShape("",171,695,97,135);this.addChild(s),this.shpBeMask1=new egret.DisplayObjectContainer,this.shpBeMask1.x=171,this.shpBeMask1.y=695,this.shpBeMask1.width=97,this.shpBeMask1.height=540,this.addChild(this.shpBeMask1);var r=createBitmap("pic1_jpg",0,0),h=createBitmap("pic2_jpg",0,135),n=createBitmap("pic3_jpg",0,270),d=createBitmap("pic1_jpg",0,405);this.shpBeMask1.addChild(r),this.shpBeMask1.addChild(h),this.shpBeMask1.addChild(n),this.shpBeMask1.addChild(d),this.shpBeMask1.mask=s;var o=drawReactShape("",325,695,97,135);this.addChild(o),this.shpBeMask2=new egret.DisplayObjectContainer,this.shpBeMask2.x=325,this.shpBeMask2.y=695,this.shpBeMask2.width=97,this.shpBeMask2.height=540,this.addChild(this.shpBeMask2);var c=createBitmap("pic2_jpg",0,0),l=createBitmap("pic3_jpg",0,135),g=createBitmap("pic1_jpg",0,270),p=createBitmap("pic2_jpg",0,405);this.shpBeMask2.addChild(c),this.shpBeMask2.addChild(l),this.shpBeMask2.addChild(g),this.shpBeMask2.addChild(p),this.shpBeMask2.mask=o;var u=drawReactShape("",474,695,97,135);this.addChild(u),this.shpBeMask3=new egret.DisplayObjectContainer,this.shpBeMask3.x=474,this.shpBeMask3.y=695,this.shpBeMask3.width=97,this.shpBeMask3.height=540,this.addChild(this.shpBeMask3);var v=createBitmap("pic3_jpg",0,0),_=createBitmap("pic1_jpg",0,135),f=createBitmap("pic2_jpg",0,270),w=createBitmap("pic3_jpg",0,405);this.shpBeMask3.addChild(v),this.shpBeMask3.addChild(_),this.shpBeMask3.addChild(f),this.shpBeMask3.addChild(w),this.shpBeMask3.mask=u;var E=!0;a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){if(E){E=!1;var e=2,t=3,i=1;3==e&&1==t&&2==i?this.zpname="奖品1":1==e&&2==t&&3==i?this.zpname="奖品2":2==e&&3==t&&1==i?this.zpname="奖品3":this.zpname="没有中奖",this.Mask(this.shpBeMask1,500,0,5,e),this.Mask(this.shpBeMask2,500,0,8,t),this.Mask(this.shpBeMask3,500,0,10,i)}},this);var m=createBitmap("lingq_btn_png");m.x=171,m.y=1045,this.addChild(m);var T=new egret.DisplayObjectContainer;T.y=1206,T.x=15,T.width=720,T.height=1047,this.addChild(T);var C=createBitmap("djy_wbk_png");C.x=0,C.y=217,T.addChild(C);var x=createBitmap("zj_title_png");x.y=0,x.x=89,T.addChild(x);var R=createBitmap("djy_hbk_png");R.y=288,R.x=95,T.addChild(R);var S=createTextFiled(this.zpname,195,450,50,16711680);T.addChild(S);var b=createTextFiled("(奖品名称)",269,720,35,16777215);T.addChild(b);var y=createTextFiled("已被你翻牌，请火速前来领取",170,778,30,16777215);T.addChild(y);var B=createTextFiled("领取地点：",102,850,30,16777215);T.addChild(B);var O=createTextFiled("领取方式：",102,925,30,16777215);T.addChild(O);var L=createTextFiled("中州交易中心",253,850,30,16777215,"left",360,80,"",!1,0,!0);T.addChild(L);var M=createTextFiled("2016年12月25日-30日到现场领取",253,925,30,16777215,"left",360,80,"",!1,0,!0);T.addChild(M),b.bold=!0,y.bold=!0,B.bold=!0,O.bold=!0,L.bold=!0,M.bold=!0,m.touchEnabled=!0,T.touchEnabled=!0;m.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){S.text=this.zpname,egret.Tween.get(e).to({scaleX:0,scaleY:0},200).call(function(){egret.Tween.get(t).to({scaleX:1,scaleY:1},300)}),egret.Tween.get(T).to({y:148},500)},this),T.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){egret.Tween.get(t).to({scaleX:0,scaleY:0},200).call(function(){egret.Tween.get(e).to({scaleX:1,scaleY:1},300)}),egret.Tween.get(T).to({y:1206},500)},this)},t.prototype.Mask=function(e,t,i,a,s){egret.Tween.get(e).to({y:290},t).call(function(){e.y=695,i++,console.log(i,t),a>i?(t*=.9,t=30>t?30:t):(t*=1.1,t=t>1e3?1e3:t),t>=1e3?(egret.Tween.pauseTweens(e),135*s+290==695?egret.Tween.get(e).to({y:135*s+290},100).call(function(){this.dd.play(0,1)}.bind(this)):egret.Tween.get(e).to({y:135*s+290},1500).call(function(){this.dd.play(0,1)}.bind(this))):this.Mask(e,t,i,a,s)}.bind(this))},t}(egret.Sprite);__reflect(ReceiveUI.prototype,"ReceiveUI");var ResultUI=function(e){function t(){var t=e.call(this)||this;return t.once(egret.Event.ADDED_TO_STAGE,t.createView,t),t}return __extends(t,e),t.prototype.createView=function(){var e=createBitmap("bg_jpg");this.addChild(e)},t}(egret.Sprite);__reflect(ResultUI.prototype,"ResultUI");var ScenceManage=function(){function e(e){this._stage=e}return e.create=function(t){return void 0===t&&(t=null),e._self?e._self:e._self=new e(t)},e.prototype.loadScence=function(e,t,i,a){void 0===a&&(a=null),this._scenceName=e,this._nextScence=i,this._curScence=t,this._callback=a,this.loadingView=new LoadingUI,this._stage.addChild(this.loadingView),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup(e)},e.prototype.onResourceLoadComplete=function(e){if(e.groupName==this._scenceName){this._stage.removeChild(this.loadingView),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,this.onResourceProgress,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this);var t=new this._nextScence;t.scaleX=0,t.x=.5*this._stage.$stageWidth,t.y=.5*this._stage.$stageHeight,t.anchorOffsetX=.5*this._stage.$stageWidth,t.anchorOffsetY=.5*this._stage.$stageHeight,this._stage.addChild(t),null!=this._curScence&&this._stage.removeChild(this._curScence),egret.Tween.get(t).to({scaleX:1},1e3).call(function(){this._callback?this._callback():""}.bind(this))}},e.prototype.onItemLoadError=function(e){console.warn("Url:"+e.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(e){console.warn("Group:"+e.groupName+" has failed to load"),this.onResourceLoadComplete(e)},e.prototype.onResourceProgress=function(e){e.groupName==this._scenceName&&this.loadingView.setProgress(e.itemsLoaded,e.itemsTotal)},e.prototype.createGameScene=function(){},e}();__reflect(ScenceManage.prototype,"ScenceManage");